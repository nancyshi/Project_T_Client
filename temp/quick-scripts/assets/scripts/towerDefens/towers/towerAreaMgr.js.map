{"version":3,"sources":["towerAreaMgr.js"],"names":["cc","Class","extends","Component","properties","buildTowerUIPrefab","Prefab","currentUI","onLoad","node","on","onTouchEnd","start","showUI","ui","instantiate","scale","x","y","addChild","tween","to","removeUI","self","call","removeFromParent","event","stopPropagation","onDestroy","off"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,4BAAoBL,GAAGM,MAhBf;AAiBRC,mBAAW;;AAjBH,KAHP;;AAwBL;;AAEAC,UA1BK,oBA0BK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,UAAb,EAAwB,KAAKC,UAA7B,EAAwC,IAAxC;AACH,KA5BI;AA8BLC,SA9BK,mBA8BI,CAER,CAhCI;AAkCLC,UAlCK,oBAkCI;AACL,YAAIC,KAAKd,GAAGe,WAAH,CAAe,KAAKV,kBAApB,CAAT;AACAS,WAAGE,KAAH,GAAW,CAAX;AACAF,WAAGG,CAAH,GAAO,CAAP;AACAH,WAAGI,CAAH,GAAO,CAAP;AACA,aAAKX,SAAL,GAAiBO,EAAjB;AACA,aAAKL,IAAL,CAAUU,QAAV,CAAmBL,EAAnB;AACAd,WAAGoB,KAAH,CAASN,EAAT,EACKO,EADL,CACQ,GADR,EACY,EAACL,OAAM,CAAP,EADZ,EAEKJ,KAFL;AAGH,KA5CI;AA6CLU,YA7CK,sBA6CK;AACN,YAAI,KAAKf,SAAL,IAAkB,IAAtB,EAA4B;AACxB;AACH,SAFD,MAGK;AACD,gBAAIgB,OAAO,IAAX;AACAvB,eAAGoB,KAAH,CAAS,KAAKb,SAAd,EACKc,EADL,CACQ,GADR,EACY,EAACL,OAAO,CAAR,EADZ,EAEKQ,IAFL,CAEU,YAAU;AACZD,qBAAKhB,SAAL,CAAekB,gBAAf;AACAF,qBAAKhB,SAAL,GAAiB,IAAjB;AACH,aALL,EAMKK,KANL;AAOH;AACJ,KA3DI;AA6DLD,cA7DK,sBA6DMe,KA7DN,EA6DY;AACb,YAAI,KAAKnB,SAAL,IAAkB,IAAtB,EAA4B;AACxB,iBAAKM,MAAL;AACH;AACDa,cAAMC,eAAN;AACH,KAlEI;AAoELC,aApEK,uBAoEM;AACP,aAAKnB,IAAL,CAAUoB,GAAV,CAAc,UAAd,EAAyB,KAAKlB,UAA9B,EAAyC,IAAzC;AACH;AAtEI;;AAyEL;;AAzEJ","file":"towerAreaMgr.js","sourceRoot":"../../../../../../assets/scripts/towerDefens/towers","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        buildTowerUIPrefab: cc.Prefab,\n        currentUI: null\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.node.on(\"touchend\",this.onTouchEnd,this)\n    },\n\n    start () {\n\n    },\n\n    showUI() {\n        var ui = cc.instantiate(this.buildTowerUIPrefab)\n        ui.scale = 0\n        ui.x = 0\n        ui.y = 0\n        this.currentUI = ui        \n        this.node.addChild(ui)\n        cc.tween(ui)\n            .to(0.2,{scale:1})\n            .start()\n    },\n    removeUI(){\n        if (this.currentUI == null) {\n            return\n        }\n        else {\n            var self = this\n            cc.tween(this.currentUI)\n                .to(0.2,{scale: 0})\n                .call(function(){\n                    self.currentUI.removeFromParent()\n                    self.currentUI = null\n                })\n                .start()\n        }\n    },\n\n    onTouchEnd(event){\n        if (this.currentUI == null) {\n            this.showUI()\n        }\n        event.stopPropagation()\n    },\n\n    onDestroy(){\n        this.node.off(\"touchend\",this.onTouchEnd,this)\n    },\n\n    \n    // update (dt) {},\n\n});\n"]}