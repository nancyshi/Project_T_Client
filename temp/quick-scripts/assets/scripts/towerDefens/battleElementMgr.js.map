{"version":3,"sources":["battleElementMgr.js"],"names":["cc","Class","extends","Component","properties","maxHp","currentHp","get","_currentHp","set","value","hurt","attckRange","hurtRange","physicalDefense","magicalDefense","hpBar","ProgressBar","isAutoHideHpBar","hpBarContinueTime","start","getHurt","hurtNum","hurtType","actureHurt","Math","floor","console","error","getBuff","buffId"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO,GADC;AAERC,mBAAW;AACPC,eADO,iBACD;AACF,oBAAI,KAAKC,UAAL,IAAmB,IAAvB,EAA6B;AACzB,yBAAKA,UAAL,GAAkB,KAAKH,KAAvB;AACH;AACD,uBAAO,KAAKG,UAAZ;AACH,aANM;AAOPC,eAPO,eAOHC,KAPG,EAOI;AACP,qBAAKF,UAAL,GAAkBE,KAAlB;AACH;AATM,SAFH;AAaRC,cAAM,GAbE;AAcRC,oBAAY,GAdJ;AAeRC,mBAAW,CAAC,CAfJ;;AAiBRC,yBAAiB,GAjBT;AAkBRC,wBAAgB,GAlBR;;AAqBRC,eAAOhB,GAAGiB,WArBF;AAsBRC,yBAAiB,IAtBT;AAuBRC,2BAAmB,CAvBX,CAuBe;AAvBf,KAHP;;AA6BL;;AAEA;;AAEAC,SAjCK,mBAiCI,CAER,CAnCI;AAqCLC,WArCK,mBAqCGC,OArCH,EAqCYC,QArCZ,EAqCsB;AACvB,YAAID,UAAU,CAAd,EAAiB;AACb;AACA,gBAAIE,aAAa,IAAjB;AACA,oBAAQD,QAAR;AACI,qBAAK,CAAL;AAAQ;AACJC,iCAAaC,KAAKC,KAAL,CAAWJ,UAAUA,OAAV,IAAqBA,UAAU,KAAKR,eAApC,CAAX,CAAb;AACA;AACJ,qBAAK,CAAL;AAAQ;AACJU,iCAAaC,KAAKC,KAAL,CAAWJ,UAAUA,OAAV,IAAqBA,UAAU,KAAKP,cAApC,CAAX,CAAb;AACA;AACJ;AACIS,iCAAaC,KAAKC,KAAL,CAAWJ,UAAUA,OAAV,IAAqBA,UAAU,KAAKR,eAApC,CAAX,CAAb;AARR;AAUA,gBAAIU,UAAJ,EAAgB;AACZ,qBAAKlB,SAAL,IAAkBkB,UAAlB;AACH,aAFD,MAGK;AACDxB,mBAAG2B,OAAH,CAAWC,KAAX,CAAiB,6BAA6BJ,UAA9C;AACH;AACJ,SAnBD,MAoBK,IAAIF,UAAU,CAAd,EAAiB;AAClB;AACA,iBAAKhB,SAAL,IAAkBgB,OAAlB;AACH;AACJ,KA9DI;AAgELO,WAhEK,mBAgEGC,MAhEH,EAgEW,CAEf;AACD;;AAnEK,CAAT","file":"battleElementMgr.js","sourceRoot":"../../../../../assets/scripts/towerDefens","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        maxHp: 100,\n        currentHp: {\n            get() {\n                if (this._currentHp == null) {\n                    this._currentHp = this.maxHp\n                }\n                return this._currentHp\n            },\n            set(value) {\n                this._currentHp = value\n            }\n        },\n        hurt: 100,\n        attckRange: 300,\n        hurtRange: -1,\n\n        physicalDefense: 100,\n        magicalDefense: 200,\n\n\n        hpBar: cc.ProgressBar,\n        isAutoHideHpBar: true,\n        hpBarContinueTime: 3,  //when on attack, the hp bar will auto appear, and last for this time , mesured by second\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n\n    getHurt(hurtNum, hurtType) {\n        if (hurtNum > 0) {\n            //hurt flow\n            var actureHurt = null\n            switch (hurtType) {\n                case 1: //physical\n                    actureHurt = Math.floor(hurtNum * hurtNum / (hurtNum + this.physicalDefense))\n                    break\n                case 2: //magical\n                    actureHurt = Math.floor(hurtNum * hurtNum / (hurtNum + this.magicalDefense))\n                    break\n                default:\n                    actureHurt = Math.floor(hurtNum * hurtNum / (hurtNum + this.physicalDefense))\n            }\n            if (actureHurt) {\n                this.currentHp -= actureHurt\n            }\n            else {\n                cc.console.error(\"NOT INVALID HURT NUM OF \" + actureHurt);\n            }\n        }\n        else if (hurtNum < 0) {\n            //cure flow\n            this.currentHp += hurtNum\n        }\n    },\n\n    getBuff(buffId) {\n\n    }\n    // update (dt) {},\n});\n"]}